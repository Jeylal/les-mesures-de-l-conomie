results_tidysynth %>%
plot_weights()
results_tidysynth %>%
plot_placebos(prune = FALSE)
results_tidysynth %>%
plot_mspe_ratio()
results_tidysynth %>%
grab_significance() %>%
gt()
library(synthdid)
data <- data %>%
mutate(
treatment = if_else(year >= 1990 & index == 17, 1, 0)
)
library(tidyverse)
library(tidyverse)
data <- data %>%
mutate(
treatment = if_else(year >= 1990 & index == 17, 1, 0)
)
library(synthdid)
library(tidysynth)
library(haven)
library(tidyverse)
library(sjlabelled)
data <- read_dta("repgermany.dta")
data <- data %>%
mutate(
treatment = if_else(year >= 1990 & index == 17, 1, 0)
)
View(data)
data <- data %>%
mutate(
treatment = if_else(year >= 1990 & country == 17, 1, 0)
)
setup <- panel.matrices(
panel = data,
unit = "index",
time = "year",
outcome = "gdp",
treatment = "treatment"
)
data = as.data.frame(data)
setup <- panel.matrices(
panel = data,
unit = "index",
time = "year",
outcome = "gdp",
treatment = "treatment"
)
setup <- panel.matrices(
panel = data,
unit = "country",
time = "year",
outcome = "gdp",
treatment = "treatment"
)
tau.hat = synthdid_estimate(setup$Y, setup$N0, setup$T0)
View(setup)
setup[["W"]]
se = sqrt(vcov(tau.hat, method='placebo'))
se = sqrt(vcov(tau.hat, method='placebo'))
plot(tau.hat)
plot(tau.hat, se.method='placebo')
tau.hat
tau.sc   = sc_estimate(setup$Y, setup$N0, setup$T0)
estimates = list(tau.did, tau.sc, tau.hat)
estimates = list(tau.did, tau.sc, tau.hat)
tau.did  = did_estimate(setup$Y, setup$N0, setup$T0)
estimates = list(tau.did, tau.sc, tau.hat)
names(estimates) = c('Diff-in-Diff', 'Synthetic Control', 'Synthetic Diff-in-Diff')
synthdid_plot(estimates, se.method='placebo')
plot(tau.hat)
synthdid_results = synthdid_estimate(setup$Y, setup$N0, setup$T0)
synthdid_results = synthdid_estimate(setup$Y, setup$N0, setup$T0)
plot(synthdid_results)
?panel.matrices
?synthdid_estimate
View(setup)
setup$Y
View(setup)
View(setup)
setup[["Y"]]
setup[["Y"]]
setup[["N0"]]
setup[["T0"]]
setup[["W"]]
?panel.matrices
?synthdid_estimate
plot(synthdid_results)
sc_results   = sc_estimate(setup$Y, setup$N0, setup$T0)
did_results  = did_estimate(setup$Y, setup$N0, setup$T0)
estimates = list(synthdid_results, sc_results, did_results)
names(estimates) = c('Diff-in-Diff', 'Synthetic Control', 'Synthetic Diff-in-Diff')
synthdid_plot(estimates)
plot(tau.hat, spaghetti.units=rownames(top.controls))
plot(synthdid_results, spaghetti.units=rownames(top.controls))
sc_results   = sc_estimate(setup$Y, setup$N0, setup$T0)
did_results  = did_estimate(setup$Y, setup$N0, setup$T0)
estimates = list(synthdid_results, sc_results, did_results)
names(estimates) = c('Diff-in-Diff', 'Synthetic Control', 'Synthetic Diff-in-Diff')
synthdid_plot(estimates)
#| message: false
#| warning: false
#install.packages("Synth")
library(haven) # to import the dta file
library(Synth)
library(tidyverse)
library(sjlabelled)
library(gt)
setwd("~/Documents/R training/synthetic_control")
data <- read_dta("repgermany.dta")
country = unique(as_label(data$country)) # save the country names for later
glimpse(data) # have a quick look at the date
#| warning: false
#| message: false
#devtools::install_github("synth-inference/synthdid")
library(synthdid)
data <- read_dta("repgermany.dta")
# add a binary variable taking value 1 for West Germany for period 1990-2003
data <- data %>%
mutate(
treatment = if_else(year >= 1990 & country == 17, 1, 0)
)
#| warning: false
#| message: false
#| include: false
data = as.data.frame(data)
setup <- panel.matrices(
panel = data,
unit = "country",
time = "year",
outcome = "gdp",
treatment = "treatment"
)
synthdid_results = synthdid_estimate(setup$Y, setup$N0, setup$T0)
synthdid_results
plot(synthdid_results)
library(readr)
CHE2005ttl <- read_csv("Downloads/NATIOTTL/CHE2005ttl.csv")
View(CHE2005ttl)
library(readr)
CHE2006ttl <- read_csv("Downloads/NATIOTTL/CHE2006ttl.csv")
View(CHE2006ttl)
library(readr)
CHE2022ttl <- read_csv("Downloads/NATIOTTL/CHE2022ttl.csv")
View(CHE2022ttl)
library(readr)
CHE2019ttl <- read_csv("Downloads/NATIOTTL/CHE2019ttl.csv")
View(CHE2019ttl)
install.packages("gapminder")
library(gapminer)
library(gapminder)
library(tidyverse)
data("gapminder")
force(gapminder)
View(gapminder)
gapminder %>%
filter(country %in% c("Switzerland"))
install.packages("GWalkR")
library(GWalkR)
gwalkr(gapminder)
glimpse(gapminder)
f = function(x0, x, g, t){
x0 + (1+g)^t
}
f = function(x0, g, t){
x0 + (1+g)^t
}
x0 = 2
g = 0.03
t = 3
f(x0 = x0, g = g, t = t)
f(x0 = x0, g = g, t = 1:3)
f(x0 = x0, g = g, t = 0:3)
f(x0 = x0, g = g, t = 0:10)
f(x0 = x0, g = g, t = 0:100)
plot(f(x0 = x0, g = g, t = 0:100))
plot(f(x0 = x0, g = g, t = 0:100), type = "l")
x0*(1+g)^t
f = function(x0, g, t){
x0*(1+g)^t
}
x0 = 2
g = 0.03
t = 3
plot(f(x0 = x0, g = g, t = 0:3), type = "l")
f(x0 = x0, g = g, t = 0:3)
plot(f(x0 = x0, g = g, t = 0:30), type = "l")
plot(f(x0 = x0, g = g, t = 0:1000), type = "l")
plot(f(x0 = x0, g = g, t = 0:100), type = "l")
plot(f(x0 = x0, g = g, t = 0:150), type = "l")
#| echo: true
#| output-location: column-fragment
f = function(x0, g, t){
x0*(1+g)^t
}
x0 = 2
g = 0.03
#| echo: true
#| output-location: column-fragment
f = function(x0, g, t){
x0*(1+g)^t
}
x0 = 2
g = 0.03
t = 1:150
x = f(x0 = x0, g = g, t = t)
plot(x, type = "l")
#| echo: true
#| output-location: column
mean(x)
#| echo: true
#| output-location: column
(max(x)-min(x))/
#| echo: true
#| output-location: column
first(x)
last(x)
#| echo: true
#| output-location: column
(first(x)-last(x))/length(x)
#| echo: true
#| output-location: column
(last(x)-first(x))/length(x)
(x-lag(x))/lag(x)
g = (x-lag(x))/lag(x)
mean(g)
mean(g, na.rm = TRUE)
g_cumulatif = (last(x)/first(x))^(1/length(x))-1
data("gapminder") %>%
filter(country = "Switzerland")
View(gapminder)
data("gapminder") %>%
filter(country == "Switzerland") %>%
select(gdpcap)
View(gapminder)
data("gapminder") %>%
filter(country == "Switzerland") %>%
select(pop)
data("gapminder") %>%
dplyr::filter(country == "Switzerland") %>%
select(pop)
library(tidyverse)
library(gapminder)
library(tidyverse)
data("gapminder") %>%
dplyr::filter(country == "Switzerland") %>%
select(pop)
gapminder
gapminder %>%
dplyr::filter(country == "Switzerland") %>%
select(pop)
pop_suisse <-
gapminder %>%
dplyr::filter(country == "Switzerland") %>%
select(pop)
pop_suisse_g = lag(pop_suisse)-lag(pop_suisse)
plot(pop_suisse_g)
pop_suisse_g = log(pop_suisse)-lag(log(pop_suisse))
View(pop_suisse_g)
View(pop_suisse)
pop_suisse <-
gapminder %>%
dplyr::filter(country == "Switzerland")
View(pop_suisse)
View(gapminder)
install.packages("pwt10")
library(pwt10)
data("pwt10")
data("pwt10.0")
View(pwt10.0)
pop_suisse <-
pwt10.0 %>%
filter(country == "Switzerland") %>%
select(pop)
View(pop_suisse)
pop_suisse_g = log(pop_suisse)-lag(log(pop_suisse))
View(pop_suisse_g)
mean(pop_suisse_g, na.rm = TRUE)
pop_suisse_g
mean(pop_suisse_g$pop, na.rm = TRUE)
pop_suisse_g = log(pop_suisse$pop)-lag(log(pop_suisse$pop))
pop_suisse_g
mean(pop_suisse_g$pop, na.rm = TRUE)
mean(pop_suisse_g, na.rm = TRUE)
(last(pop_suisse)/first(pop_suisse))^(1/length(pop_suisse)) - 1
1/length(pop_suisse)
length(pop_suisse)
length(pop_suisse)
length(pop_suisse)
length(pop_suisse)
length(pop_suisse)
(last(pop_suisse_g)/first(pop_suisse_g))^(1/length(pop_suisse_g)) - 1
pop_suisse_g = (log(pop_suisse$pop)-lag(log(pop_suisse$pop))) %>% drop_na()
pop_suisse_g = pop_suisse_g %>% drop_na()
pop_suisse_g = pop_suisse_g[-1]
(last(pop_suisse_g)/first(pop_suisse_g))^(1/length(pop_suisse_g)) - 1
length(pop_suisse_g)
first(pop_suisse_g)
last(pop_suisse_g)
1/length(pop_suisse_g)
((last(pop_suisse_g)/first(pop_suisse_g))^(1/length(pop_suisse_g)) - 1)
mean(pop_suisse_g)
((last(pop_suisse_g)/first(pop_suisse_g))^(1/length(pop_suisse_g)) - 1)
pop_suisse_g
((last(pop_suisse_g)/first(pop_suisse_g))^(1/length(pop_suisse_g)) - 1)
pop_suisse_g = (pop_suisse$pop - lag(pop_suisse$pop))/lag(pop_suisse$pop)
pop_suisse_g
pop_suisse_g = pop_suisse_g[-1]
mean(pop_suisse_g)
((last(pop_suisse_g)/first(pop_suisse_g))^(1/length(pop_suisse_g)) - 1)
plot(pop_suisse)
plot(pop_suisse$pop)
View(pop_suisse)
((last(pop_suisse$pop)/first(pop_suisse$pop))^(1/length(pop_suisse$pop)) - 1)
mean(pop_suisse_g)
((last(pop_suisse$pop)/first(pop_suisse$pop))^(1/length(pop_suisse$pop)) - 1)
mean(pop_suisse_g)
((last(pop_suisse$pop)/first(pop_suisse$pop))^(1/length(pop_suisse$pop)) - 1)
mean(pop_suisse_g)
x
plot(pop_suisse$pop)
mean(pop_suisse_g)
plot(log(x), type = "l")
plot(log(x), type = "l")+
lines(x, col = "red")
plot(log(x[1:20]), type = "l")+
lines(x, col = "red")
plot(log(x[1:20]), type = "l")+
lines(x[1:20], col = "red")
plot(log(x[1:50]), type = "l")+
lines(x[1:50], col = "red")
plot(log(x[1:3]), type = "l")+
lines(x[1:3], col = "red")
plot(log(x), type = "l")
plot(x, type = "l")
log(x) - lag(log(x))
g = log(x) - lag(log(x))
g
print(g)
g*100
gt(g)
#| echo: true
library(gt)
g = log(x) - lag(log(x))
gt(g)
gt(g)
table(g)
unique(g*100)
#| echo: true
g = log(x) - lag(log(x))
g[-1]
install.packages("maddison")
library(maddison)
df <- subset(maddison,
year >= 1800 &
iso2c %in% c("DE", "FR", "IT", "UK", "US"))
ggplot(df, aes(x = year, y = rgdpnapc, color = country)) +
geom_line() +
scale_y_log10() +
theme_bw() +
labs(x = NULL, y = "GDP per capita (2011 U.S. dollars)\n", color = NULL,
title = "GDP per capita (1800-2010)")
View(df)
ggplot(df, aes(x = year, y = rgdpnapc*pop, color = country)) +
geom_line() +
scale_y_log10() +
theme_bw() +
labs(x = NULL, y = "GDP per capita (2011 U.S. dollars)\n", color = NULL,
title = "GDP per capita (1800-2010)")
df %>%
filter(country == "US") %>%
ggplot(aes(x = year, y = rgdpnapc*pop, color = country)) +
geom_line() +
scale_y_log10() +
theme_bw() +
labs(x = NULL, y = "GDP per capita (2011 U.S. dollars)\n", color = NULL,
title = "GDP per capita (1800-2010)")
df %>%
filter(v == "US") %>%
ggplot(aes(x = year, y = rgdpnapc*pop, color = country)) +
geom_line() +
scale_y_log10() +
theme_bw() +
labs(x = NULL, y = "GDP per capita (2011 U.S. dollars)\n", color = NULL,
title = "GDP per capita (1800-2010)")
df %>%
filter(iso2c == "US") %>%
ggplot(aes(x = year, y = rgdpnapc*pop, color = country)) +
geom_line() +
scale_y_log10() +
theme_bw() +
labs(x = NULL, y = "GDP per capita (2011 U.S. dollars)\n", color = NULL,
title = "GDP per capita (1800-2010)")
df %>%
filter(iso2c == "US") %>%
ggplot(aes(x = year, y = exp(rgdpnapc*pop), color = country)) +
geom_line() +
scale_y_log10() +
theme_bw() +
labs(x = NULL, y = "GDP per capita (2011 U.S. dollars)\n", color = NULL,
title = "GDP per capita (1800-2010)")
df %>%
filter(iso2c == "US") %>%
ggplot(aes(x = year, y = rgdpnapc*pop, color = country)) +
geom_line() +
scale_y_log10() +
theme_bw() +
labs(x = NULL, y = "GDP per capita (2011 U.S. dollars)\n", color = NULL,
title = "GDP per capita (1800-2010)")
df %>%
filter(iso2c == "UK") %>%
ggplot(aes(x = year, y = rgdpnapc*pop, color = country)) +
geom_line() +
scale_y_log10() +
theme_bw() +
labs(x = NULL, y = "GDP per capita (2011 U.S. dollars)\n", color = NULL,
title = "GDP per capita (1800-2010)")
df %>%
filter(iso2c == "US") %>%
ggplot(aes(x = year, y = rgdpnapc*pop, color = country)) +
geom_line()
filter(iso2c %in% c("US", "UK") %>%
df %>%
filter(iso2c %in% c("US", "UK")) %>%
ggplot(aes(x = year, y = rgdpnapc*pop, color = country)) +
geom_line()
df %>%
df %>%
filter(iso2c %in% c("US", "UK")) %>%
ggplot(aes(x = year, y = rgdpnapc*pop, color = country)) +
geom_line()
df %>%
filter(iso2c %in% c("US", "UK")) %>%
ggplot(aes(x = year, y = rgdpnapc*pop, color = iso2c)) +
geom_line()
df %>%
filter(iso2c %in% c("US", "UK"))
df <- subset(maddison,
year >= 1800 &
iso2c %in% c("DE", "FR", "IT", "UK", "US"))
View(df)
df %>%
filter(country %in% c("United States")) %>%
ggplot(aes(x = year, y = rgdpnapc*pop, color = iso2c)) +
geom_line()
df %>%
filter(country %in% c("United States", "United Kingdom")) %>%
ggplot(aes(x = year, y = rgdpnapc*pop, color = iso2c)) +
geom_line()
df %>%
filter(country %in% c("United States", "United Kingdom")) %>%
ggplot(aes(x = year, y = rgdpnapc*pop, color = country)) +
geom_line()
df %>%
filter(country %in% c("United States", "United Kingdom"))
df %>%
filter(country %in% c("United States", "France")) %>%
ggplot(aes(x = year, y = rgdpnapc*pop, color = country)) +
geom_line()
df %>%
filter(country %in% c("United States", "France")) %>%
ggplot(aes(x = year, y = rgdpnapc, color = country)) +
geom_line()
library(maddison)
df <- subset(maddison,
year >= 1800 &
iso2c %in% c("DE", "FR", "IT", "UK", "US"))
df %>%
filter(country %in% c("United States", "France")) %>%
ggplot(aes(x = year, y = rgdpnapc, color = country)) +
geom_line()
install.packages(c("bayesplot", "BFS", "blob", "bridgesampling", "broom", "bslib", "car", "clock", "crosstalk", "dbplyr", "dcurver", "devtools", "did", "distributional", "doBy", "downlit", "dplyr", "DRDID", "DT", "dtplyr", "equatiomatic", "FactoInvestigate", "FactoMineR", "flextable", "foghorn", "forcats", "future.apply", "gargle", "gdtools", "geojsonsf", "gert", "GGally", "ggformula", "ggfortify", "ggpubr", "ggstats", "ggthemes", "gh", "gld", "gmailr", "googledrive", "googlesheets4", "gt", "gtExtras", "haven", "hms", "httr2", "labelled", "lava", "lintr", "lme4", "lubridate", "mice", "mirt", "mockery", "modelsummary", "mosaic", "mosaicCore", "officer", "pbkrtest", "pillar", "pkgdown", "pkgload", "plotly", "promises", "purrr", "quarto", "questionr", "ragg", "reactable", "readr", "reformulas", "reshape2", "rio", "rmarkdown", "roxygen2", "rsample", "rsconnect", "rstatix", "rvest", "sdstudio", "selectr", "sfheaders", "shiny", "shinyjs", "SimDesign", "slider", "snowflakeauth", "sparsevctrs", "spelling", "stringr", "styler", "surveydown", "svglite", "systemfonts", "tables", "testthat", "textshaping", "tibble", "tidyr", "timechange", "tinytex", "tseries", "units", "usethis", "V8", "vctrs", "vegan", "vroom", "waldo", "xml2"))
install.packages("see")
library(see)
setwd("~/Documents/GitHub/les-mesures-de-l-conomie")
library(quarto)
quarto_render()
quarto_render()
quarto_render()
setwd("~/Documents/GitHub/les-mesures-de-l-conomie")
setwd("~/Documents/GitHub/les-mesures-de-l-conomie")
quarto_render()
Bienvenue sur la page du séminaire les mesures de l'économie
quarto_render()
quarto_render()
quarto_render()
quarto_render()
quarto_render()
quarto_render()
quarto_render()
# Install from GitHub
devtools::install_github("KMueller-Lab/Global-Macro-Database-R")
library(globalmacrodata)
library(globalmacrodata)
# Get data from latest available version
df <- gmd()
View(df)
# Get data for a specific country
df <- gmd(country = "USA")
View(df)
data()
install.packages("Rdatasets")
library(Rdatasets)
data()
library(Rdatasets)
Rdatasets::rddata(pwt_sample)
Rdatasets::rddata("pwt_sample")
pwt = Rdatasets::rddata("pwt_sample")
View(pwt)
475/3
